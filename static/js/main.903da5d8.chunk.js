(this.webpackJsonpvelotaff=this.webpackJsonpvelotaff||[]).push([[0],{104:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){},108:function(e,t,a){},109:function(e,t,a){},110:function(e,t,a){},111:function(e,t,a){},112:function(e,t,a){},113:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(18),r=a.n(i),o=(a(45),a(1)),l=a(2),c=a(4),u=a(3),m=a(5),p=a(115),d=a(117),v=a(9),b=a.n(v),h=a(114),f=a(116),E=(a(46),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).getDataStation=function(e,t){!1===a.props.isReserved?(a.setState({stationNom:e,stationAdresse:t}),setTimeout((function(){a.props.formulaire(a.state.stationNom,a.state.stationAdresse)}),50)):alert("Une r\xe9servation est d\xe9j\xe0 en cours. Merci de l'annuler")},a.state={stationNom:"",stationAdresse:""},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.station;return s.a.createElement(f.a,null,s.a.createElement("div",null,s.a.createElement("h3",null,t.name),s.a.createElement("p",null,t.address),s.a.createElement("div",null,s.a.createElement("div",{className:"avl_bikes"},s.a.createElement("img",{src:"bicycle.png",alt:"velo"}),s.a.createElement("div",{className:"text_avl_bikes"},s.a.createElement("p",{className:"first_text_popup"},t.available_bikes),s.a.createElement("p",{className:"second_text_popup"},t.bike_stands)),s.a.createElement("p",{className:"last_text_popup"},"V\xe9los libres")),s.a.createElement("div",{className:"avl_bikes"},s.a.createElement("img",{src:"parking-sign.png",alt:"velo"}),s.a.createElement("div",{className:"text_avl_bikes"},s.a.createElement("p",{className:"first_text_popup"},t.available_bike_stands),s.a.createElement("p",{className:"second_text_popup"},t.bike_stands)),s.a.createElement("p",{className:"last_text_popup"},"Places libres")),s.a.createElement("button",{onClick:function(){return e.getDataStation(t.name,t.address)},className:"button"},"Reserver !"))))}}]),t}(n.Component)),N=b.a.icon({iconUrl:"bikeavlb.png",iconSize:[25,25],iconAnchor:[22,22],popupAnchor:[-10,-20]}),g=b.a.icon({iconUrl:"bike.png",iconSize:[25,25],iconAnchor:[22,22],popupAnchor:[-10,-20]}),O=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={error:null,isLoaded:!1,stations:[],city:"lyon"},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.state.city;fetch("https://api.jcdecaux.com/vls/v1/stations?contract=".concat(t,"&apiKey=45e68957d549cc855a39a0557d92e8f2f91ffa5f")).then((function(e){return e.json()})).then((function(t){e.setState({isLoaded:!0,stations:t})}),(function(t){e.setState({isLoaded:!0,error:t})}))}},{key:"updateMarker",value:function(e){var t=this;this.setState({city:e}),setTimeout((function(){t.componentDidMount()}),250)}},{key:"render",value:function(){var e=this,t=this.state,a=t.isLoaded,n=t.stations;return a?n.map((function(t){return t.available_bikes>0?s.a.createElement(h.a,{position:t.position,icon:N,key:t.name},s.a.createElement(E,{station:t,formulaire:e.props.formulaire,isReserved:e.props.isReserved})):s.a.createElement(h.a,{position:t.position,icon:g,key:t.name},s.a.createElement(E,{station:t,isReserved:e.props.isReserved}))})):s.a.createElement("p",null,"Chargement . . .")}}]),t}(n.Component),y=(a(48),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).loadStation=function(){setTimeout((function(){a.setState({markerIsVisible:!0})}),2e3)},a.updateMap=function(e,t,n){a.setState({position:{lat:e,lng:t}}),a.refs.marker.updateMarker(n)},a.state={position:{lat:a.props.position.lat,lng:a.props.position.lng},zoom:13,markerIsVisible:!1},a.loadStation(),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=[this.state.position.lat,this.state.position.lng];return s.a.createElement("div",null,s.a.createElement(p.a,{className:"map",center:e,zoom:this.state.zoom,id:"map"},s.a.createElement(d.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),this.state.markerIsVisible?s.a.createElement(O,{position:e,formulaire:this.props.formulaire,isReserved:this.props.isReserved,ref:"marker"}):""))}}]),t}(n.Component)),k=a(14),j=(a(104),a(105),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).getMousePos=function(e){var t=a.canvas.getBoundingClientRect();return{x:e.clientX-t.left,y:e.clientY-t.top}},a.draw=function(e){a.isDrawing=!0;var t=a.getMousePos(e);a.ctx.beginPath(),a.ctx.moveTo(t.x,t.y)},a.drawing=function(e){if(!0===a.isDrawing){a.setState({isNotEmpty:!0}),a.props.isNotEmpty();var t=a.getMousePos(e);a.ctx.lineTo(t.x,t.y),a.ctx.stroke()}},a.unDraw=function(){return a.isDrawing=!1},a.clear=function(){a.ctx.clearRect(0,0,a.canvas.width,a.canvas.height),a.setState({isNotEmpty:!1})},a.state={isNotEmpty:!1},a.isDrawing=!1,a.isNotEmpty=!1,a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.canvas=this.refs.canvas,this.ctx=this.canvas.getContext("2d")}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("canvas",{width:300,height:200,ref:"canvas",className:"canvas",onMouseDown:this.draw,onMouseMove:this.drawing,onMouseUp:this.unDraw,onMouseLeave:this.unDraw}),this.state.isNotEmpty?s.a.createElement("button",{onClick:this.clear,className:"clear-button"},"Effacer"):"")}}]),t}(n.Component)),I=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChangeName=function(e){var t=e.currentTarget.value;a.setState({nom:t})},a.handleChangeNickname=function(e){var t=e.currentTarget.value;a.setState({prenom:t})},a.isSumbit=function(e){e.preventDefault();var t=a.state.nom.trim(),n=a.state.prenom.trim();if(""===t||""===n)return alert("Aucun des champs ne doit \xeatre vide !");a.props.compteur(),a.setState({nom:"",prenom:""})},a.isNotEmpty=function(){a.setState({isNotEmpty:!0})},a.state={nom:"",prenom:"",isNotEmpty:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"container-form"},s.a.createElement("form",{action:"#",method:"post",onSubmit:this.isSumbit},s.a.createElement("div",{className:"input-form"},s.a.createElement("input",{id:"name",type:"text",name:"name",placeholder:"Nom",value:this.state.nom,required:!0,onChange:this.handleChangeName}),s.a.createElement("input",{id:"nickname",type:"text",name:"nickname",placeholder:"Pr\xe9nom",value:this.state.prenom,required:!0,onChange:this.handleChangeNickname})),s.a.createElement(j,{isNotEmpty:this.isNotEmpty}),s.a.createElement("p",null,"Veuillez apposer votre signature et indiquer votre nom et pr\xe9nom afin de finaliser votre r\xe9servation"),this.state.isNotEmpty?s.a.createElement("input",{type:"submit",value:"Reserver",className:"input-reservation"}):""))}}]),t}(n.Component),x=(a(106),function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"container-footer"},s.a.createElement("div",{className:"social-media"},s.a.createElement("a",{href:"https://github.com/AdminMNDev/velo",target:"_blank",rel:"noopener noreferrer"},s.a.createElement("img",{src:"github.png",alt:"ico github",className:"ico-github"})),s.a.createElement("a",{href:"https://mathieu-raisin.fr",target:"_blank",rel:"noopener noreferrer"},s.a.createElement("img",{src:"domain-registration.png",alt:"ico github",className:"ico-github"}))),s.a.createElement("p",null,"\xa9 2019 RAISIN Mathieu - D\xe9veloppeur web.",s.a.createElement("br",null),s.a.createElement("span",null,"Refonte")," d'un projet ",s.a.createElement("span",null,"OpenClassRooms")," avec ",s.a.createElement("span",null,"React.js"),"."))}}]),t}(n.Component)),w=(a(107),a(108),function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"container-menu"},s.a.createElement("div",{className:"menu"},s.a.createElement("div",{className:"menu-text"},s.a.createElement("h1",null,"V\xe9lo'",s.a.createElement("span",null," Taff")),s.a.createElement("h2",null,s.a.createElement("span",null,"GRAND"),"LYON"),s.a.createElement("h3",null,"La m\xe9tropole"))))}}]),t}(n.Component)),D=(a(109),function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"container-baniere"},s.a.createElement("div",{className:"bordure-baniere"},s.a.createElement("h1",null,"V\xe9lo' ",s.a.createElement("span",null,"Taff")," vous accompagne \xe0 ",s.a.createElement("span",null,"chaque")," instant")))}}]),t}(n.Component)),V=(a(110),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){a.showDivs(),setInterval((function(){a.plusDivs(1)}),5e3)},a.plusDivs=function(e){a.showDivs(a.slideIndex+=e)},a.showDivs=function(e){var t=document.getElementsByClassName("slide");e>t.length&&(a.slideIndex=1),e<1&&(a.slideIndex=t.length);for(var n=0;n<t.length;n++)t[n].style.display="none";t[a.slideIndex-1].style.display="flex"},a.slideIndex=1,a.x=[],a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"container-slider"},s.a.createElement("h2",null,"FONCTIONNEMENT DE L'APPLICATION"),s.a.createElement("p",{className:"border-bottom-slider"}),s.a.createElement("div",{className:"slider"},s.a.createElement("img",{onClick:function(){return e.plusDivs(-1)},className:"avant",src:"back.png",alt:"arrow"}),s.a.createElement("div",{className:"slide"},s.a.createElement("img",{src:"1.png",alt:"explication de l'application"}),s.a.createElement("div",{className:"text-slider"},s.a.createElement("div",{className:"sous-titre"},s.a.createElement("p",null,"1 - Choisisez une station"),s.a.createElement("p",{className:"border-soustitre-station"})),s.a.createElement("p",null,"Un panneau s'affiche lors du clic sur un marqueur et vous avez la possibilit\xe9 de r\xe9server un v\xe9lo"))),s.a.createElement("div",{className:"slide"},s.a.createElement("img",{src:"2.png",alt:"explication de l'application"}),s.a.createElement("div",{className:"text-slider"},s.a.createElement("div",{className:"sous-titre"},s.a.createElement("p",null,"2 - Information de la station"),s.a.createElement("p",{className:"border-soustitre-station"})),s.a.createElement("p",null,"Sur le panneau, vous retrouver le nombre de v\xe9lo disponible, ainsi que les places disponibles pour rendre votre v\xe9lo"))),s.a.createElement("div",{className:"slide"},s.a.createElement("img",{src:"3.png",alt:"explication de l'application"}),s.a.createElement("div",{className:"text-slider"},s.a.createElement("div",{className:"sous-titre"},s.a.createElement("p",null,"3 - R\xe9server votre v\xe9lo"),s.a.createElement("p",{className:"border-soustitre-station"})),s.a.createElement("p",null,"Cliquez sur 'r\xe9server', puis indiquez votre nom et pr\xe9nom et signez dans le champ libre"))),s.a.createElement("div",{className:"slide"},s.a.createElement("img",{src:"4.png",alt:"explication de l'application"}),s.a.createElement("div",{className:"text-slider"},s.a.createElement("div",{className:"sous-titre"},s.a.createElement("p",null,"4 - Status de la r\xe9servation"),s.a.createElement("p",{className:"border-soustitre-station"})),s.a.createElement("p",null,"Votre r\xe9servation expire automatiquement au bout de 20 minutes. Vous devez annuler la r\xe9servation en cours pour effectuer de nouveau une r\xe9servation"))),s.a.createElement("img",{onClick:function(){return e.plusDivs(1)},className:"apres",src:"next.png",alt:"arrow"})))}}]),t}(n.Component)),C=(a(111),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).selectOption=function(){for(var e,t=a.refs.list,n=0,s=t.options.length;n<s;n++)if(!0===(e=t.options[n]).selected){a.city=e.value;break}a.props.selectedCity(a.city)},a.city="",a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"container-jumbotron"},s.a.createElement("div",{className:"jumbotron-text"},s.a.createElement("p",{className:"titre-jumbotron"},"R\xc9SERVEZ VOTRE V\xc9LO'V"),s.a.createElement("p",{className:"border-titre-jumbotron"}),s.a.createElement("p",{className:"text-jumbotron"},"Vous pouvez r\xe9server un v\xe9lo, 7j/7, 24h/24.",s.a.createElement("br",null),"Dans chaque station, une borne permet d'acqu\xe9rir une carte (courte dur\xe9e) payable par carte bancaire. Le ticket 1 trajet co\xfbte 1,80 \u20ac et la formule 24 heures 4 \u20ac. L'abonnement longue dur\xe9e co\xfbte 31 \u20ac."),s.a.createElement("select",{id:"list",ref:"list",onChange:this.selectOption},s.a.createElement("option",{value:"null"},"S\xe9lectionner une ville"),s.a.createElement("option",{value:"amiens"},"Amiens"),s.a.createElement("option",{value:"cergy-pontoise"},"Cergy-pontoise"),s.a.createElement("option",{value:"creteil"},"Creteil"),s.a.createElement("option",{value:"lyon"},"Lyon"),s.a.createElement("option",{value:"marseille"},"Marseille"),s.a.createElement("option",{value:"mulhouse"},"Mulhouse"),s.a.createElement("option",{value:"nancy"},"Nancy"),s.a.createElement("option",{value:"nantes"},"Nantes"),s.a.createElement("option",{value:"rouen"},"Rouen"),s.a.createElement("option",{value:"toulouse"},"Toulouse")))))}}]),t}(n.Component)),S=(a(112),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){a.countDown()},a.countDown=function(){a.setState({countDown:!0}),setInterval((function(){a.state.countDown&&(a.state.m<=0&&a.state.s<=0?(clearInterval(),a.setState({countDown:!1})):a.state.s>0?a.setState({s:a.state.s-1}):a.setState({m:a.state.m-1,s:59}))}),1e3)},a.UnSubscribeCountDown=function(){a.setState({countDown:!1}),a.props.newReservation()},a.state={m:20,s:0,countDown:!0},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.stationNom,a=e.stationAdresse;return s.a.createElement("div",{className:"container-compteur"},s.a.createElement("p",{className:"titre-compteur"},"Votre R\xe9servation"),s.a.createElement("p",{className:"border-titre-compteur"}),s.a.createElement("p",{className:"text-compteur"},"V\xe9lo r\xe9serv\xe9 \xe0 la station ",t),s.a.createElement("p",{className:"text-compteur"},a),this.state.countDown?s.a.createElement("div",null,s.a.createElement("p",{className:"text-compteur"},"temps restant ",this.state.m," min et ",this.state.s," s"),s.a.createElement("button",{onClick:this.UnSubscribeCountDown,className:"button-reservation"},"Annuler la r\xe9servation")):s.a.createElement("div",null,s.a.createElement("p",{className:"text-compteur"},"R\xe9servation p\xe9rim\xe9"),s.a.createElement("button",{onClick:this.UnSubscribeCountDown,className:"button-reservation"},"Nouvelle r\xe9servation")))}}]),t}(n.Component)),M=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).formIsVisible=function(e,t){a.setState({formOut:0,formBlockIsVisible:!0,stationNom:e,stationAdresse:t}),setTimeout((function(){window.scrollTo(0,3*window.innerHeight)}),50),setTimeout((function(){a.setState({formIsVisible:!0})}),350)},a.compteurIsVisible=function(e){a.setState({formOut:500,formIsVisible:!1,isReserved:!0}),setTimeout((function(){a.setState({formBlockIsVisible:!1,compteurBlockIsVisible:!0,compteurIsVisible:!0})}),450)},a.compteurIsNotVisible=function(){a.setState({compteurIsVisible:!1,isReserved:!1}),setTimeout((function(){a.setState({compteurBlockIsVisible:!1})}),850)},a.selectedCity=function(e){var t=a.refs.map;switch(e){case"amiens":t.updateMap(49.8934018,2.2987732,"amiens");break;case"cergy-pontoise":t.updateMap(49.0378845,2.0802094,"cergy-pontoise");break;case"creteil":t.updateMap(48.7841943,2.4521374,"creteil");break;case"lyon":t.updateMap(45.763611683929796,4.874637805443967,"lyon");break;case"marseille":t.updateMap(43.275306,5.3653827,"marseille");break;case"mulhouse":t.updateMap(47.7523344,7.2998749,"mulhouse");break;case"nancy":t.updateMap(48.6880796,6.1559274,"nancy");break;case"nantes":t.updateMap(47.2195494,-1.5609162,"nantes");break;case"rouen":t.updateMap(49.4388056,1.0810451,"rouen");break;case"toulouse":t.updateMap(43.6001813,1.3995368,"toulouse")}},a.state={formIsVisible:!1,formBlockIsVisible:!1,mapIsVisible:!0,compteurIsVisible:!1,compteurBlockIsVisible:!1,stationNom:"",stationAdresse:"",formOut:0,isReserved:!1,position:{lat:0,lng:0}},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(k.Animated,{className:"animation-map",animationIn:"bounceInLeft",animationInDuration:2e3,isVisible:!0},s.a.createElement(w,null)),s.a.createElement(k.Animated,{animationIn:"bounceInRight",animationInDuration:2e3,isVisible:!0},s.a.createElement(D,null)),s.a.createElement(k.Animated,{className:"animation-map",animationIn:"bounceInLeft",animationInDuration:2e3,isVisible:!0},s.a.createElement(V,null)),s.a.createElement(C,{selectedCity:this.selectedCity}),s.a.createElement(y,{formulaire:this.formIsVisible,isReserved:this.state.isReserved,position:this.state.position,ref:"map"}),this.state.formBlockIsVisible?s.a.createElement(k.Animated,{className:"animation-form",animationIn:"fadeIn",animationOut:"fadeOut",animationOutDuration:this.state.formOut,isVisible:this.state.formIsVisible},s.a.createElement(I,{compteur:this.compteurIsVisible})):"",this.state.compteurBlockIsVisible?s.a.createElement(k.Animated,{animationIn:"bounceInRight",animationInDuration:450,isVisible:this.state.compteurIsVisible},s.a.createElement(S,{stationNom:this.state.stationNom,stationAdresse:this.state.stationAdresse,newReservation:this.compteurIsNotVisible})):"",s.a.createElement(x,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},40:function(e,t,a){e.exports=a(113)},46:function(e,t,a){},48:function(e,t,a){}},[[40,1,2]]]);
//# sourceMappingURL=main.903da5d8.chunk.js.map