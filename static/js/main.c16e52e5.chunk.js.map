{"version":3,"sources":["Popup.js","Marker.js","Map.js","Canvas.js","Reservation.js","Footer.js","Menu.js","Baniere.js","Slider.js","Jumbotron.js","Compteur.js","App.js","serviceWorker.js","index.js"],"names":["PopupVelo","props","getDataStation","nom","adress","isReserved","setState","stationNom","stationAdresse","setTimeout","formulaire","state","alert","station","this","Popup","name","address","className","src","alt","available_bikes","bike_stands","available_bike_stands","onClick","Component","openIcon","L","icon","iconUrl","iconSize","iconAnchor","popupAnchor","closeIcon","MarkerVelo","error","isLoaded","stations","fetch","then","res","json","map","Marker","position","key","MapVelo","loadStation","markerIsVisible","lat","lng","zoom","Map","center","id","TileLayer","attribution","url","CanvasReservation","getMousePos","e","rect","canvas","getBoundingClientRect","x","clientX","left","y","clientY","top","draw","isDrawing","mousePos","ctx","beginPath","moveTo","drawing","isNotEmpty","lineTo","stroke","unDraw","clear","clearRect","width","height","refs","getContext","ref","onMouseDown","onMouseMove","onMouseUp","onMouseLeave","ReservationVelo","handleChangeName","currentTarget","value","handleChangeNickname","prenom","isSumbit","preventDefault","trim","compteur","action","method","onSubmit","type","placeholder","required","onChange","FooterVelo","href","MenuVelo","BanniereVelo","SliderVelo","componentDidMount","showDivs","setInterval","plusDivs","n","slideIndex","document","getElementsByClassName","length","i","style","display","JumbotronVelo","Compteur","countDown","m","s","clearInterval","UnSubscribeCountDown","newReservation","App","formIsVisible","adresse","formOut","formBlockIsVisible","window","scrollTo","innerHeight","compteurIsVisible","compteurBlockIsVisible","compteurIsNotVisible","mapIsVisible","animationIn","animationInDuration","isVisible","animationOut","animationOutDuration","Boolean","location","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.c16e52e5.chunk.js","sourcesContent":["import React, { Component } from 'react'\nimport { Popup } from 'react-leaflet'\nimport \"./popup.css\"\n\nclass PopupVelo extends Component{\n    constructor(props){\n        super(props)\n        this.state = {\n            stationNom: '',\n            stationAdresse: '',\n        }\n    }\n\n    getDataStation = (nom, adress) => {\n        //Aucun reservation doit etre en cours\n        if(this.props.isReserved === false){\n        this.setState({\n            stationNom: nom,\n            stationAdresse: adress,\n        })\n        //pour gerer le system asycrone\n        setTimeout(() => {\n            this.props.formulaire(this.state.stationNom, this.state.stationAdresse)\n        }, 50);\n    }else{\n        alert('Une réservation est déjà en cours. Merci de l\\'annuler')\n    }\n}\n  render(){\n      const { station } = this.props\n    return(\n        <Popup>\n            <div>\n                <h3>{station.name}</h3>\n                <p>{station.address}</p>\n                    <div>\n                        <div className=\"avl_bikes\">\n                            <img src=\"bicycle.png\" alt=\"velo\"></img>\n                            <div className=\"text_avl_bikes\">\n                                <p className=\"first_text_popup\">{station.available_bikes}</p><p className=\"second_text_popup\">{station.bike_stands}</p>\n                            </div>\n                            <p className=\"last_text_popup\">Vélos libres</p>\n                        </div>\n                        <div className=\"avl_bikes\">\n                            <img src=\"parking-sign.png\" alt=\"velo\"></img>\n                            <div className=\"text_avl_bikes\">\n                                <p className=\"first_text_popup\">{station.available_bike_stands}</p><p className=\"second_text_popup\">{station.bike_stands}</p>\n                            </div>\n                            <p className=\"last_text_popup\">Places libres</p>\n                        </div>\n                        <button onClick={() => this.getDataStation(station.name, station.address)} className=\"button\">Reserver !</button>\n                    </div>\n            </div>\n        </Popup>\n    )\n  }\n}\nexport default PopupVelo\n\n","import React, { Component } from 'react'\nimport L from 'leaflet'\nimport { Marker } from 'react-leaflet'\nimport PopupVelo from './Popup';\n\nconst openIcon = L.icon({\n    iconUrl: \"bikeavlb.png\",\n    iconSize: [25,25],\n    iconAnchor: [22, 22],\n    popupAnchor: [-10,-20],\n  })\nconst closeIcon = L.icon({\n    iconUrl: \"bike.png\",\n    iconSize: [25,25],\n    iconAnchor: [22, 22],\n    popupAnchor: [-10,-20],\n  })\n\nclass MarkerVelo extends Component{\n    constructor(props){\n        super(props)\n        this.state = {\n            error: null,\n            isLoaded: false,\n            stations: []\n        }\n    }\n    componentDidMount(){\n        fetch(\"https://api.jcdecaux.com/vls/v1/stations?contract=Lyon&apiKey=45e68957d549cc855a39a0557d92e8f2f91ffa5f\")\n        .then(res => res.json())\n        .then(\n            (stations) => {\n                this.setState({\n                    isLoaded: true,\n                    stations: stations\n                })\n            },\n            //on récupère l'erreur de l'appelle\n            (error) => {\n                this.setState({\n                    isLoaded: true,\n                    error\n                })\n            }\n        )\n    }\n\n    render(){\n        const { isLoaded, stations } = this.state\n        if(isLoaded){\n            return(\n                stations.map(station => (\n                    //triage de l'affichage des icones\n                        //velo dispo\n                    station.available_bikes > 0 ? \n                        <Marker position={station.position} icon={openIcon} key={station.name}>\n                            <PopupVelo station={station} formulaire={this.props.formulaire} isReserved={this.props.isReserved}/>\n                        </Marker>\n                    :\n                        //velo indispo\n                        <Marker position={station.position} icon={closeIcon} key={station.name}>\n                            <PopupVelo station={station} isReserved={this.props.isReserved}/>\n                        </Marker>\n                    )   \n                )\n            )\n        }else{\n            return(<p>Chargement . . .</p>)\n        }\n    }\n}\nexport default MarkerVelo","import React, { Component } from 'react'\nimport { Map, TileLayer } from 'react-leaflet'\nimport MarkerVelo from './Marker'\nimport './Map.css';\n\nclass MapVelo extends Component{\n  constructor(props){\n    super(props)\n    this.state = {\n    lat: 45.763611683929796,\n    lng: 4.874637805443967,\n    zoom: 13,\n    markerIsVisible: false\n  }\n  this.loadStation()\n}\n\n\nloadStation = () =>{ //Permet de charger les stations après l'animation de la map. evite le ralentissement du nav\n  setTimeout(() => {\n    this.setState({\n      markerIsVisible: true\n    })\n  }, 2000);\n}\n\n  render(){\n    const position = [this.state.lat, this.state.lng, this.state.zoom]\n    return(\n      <div>\n      <Map className=\"map\" center={position} zoom={this.state.zoom} id=\"map\">\n        <TileLayer\n          attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n        />\n        {this.state.markerIsVisible ?\n        <MarkerVelo position={position} formulaire={this.props.formulaire} isReserved={this.props.isReserved}/>\n        : ''}\n      </Map>\n      </div>\n    )\n  }\n}\nexport default MapVelo\n\n","import React, { Component } from 'react'\nimport './Canvas.css'\n\nclass CanvasReservation extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      isNotEmpty: false\n    }\n    this.isDrawing = false\n    this.isNotEmpty = false\n  }\n  componentDidMount(){\n    this.canvas = this.refs.canvas\n    this.ctx = this.canvas.getContext(\"2d\")\n  }\n\n  getMousePos = (e) => {\n    let rect = this.canvas.getBoundingClientRect()\n    return {\n      x: e.clientX - rect.left,\n      y: e.clientY - rect.top\n    }\n  }\n\n  //Dessin\n  draw = (e) => {\n    this.isDrawing = true\n    let mousePos = this.getMousePos(e)\n    this.ctx.beginPath()\n    this.ctx.moveTo(mousePos.x, mousePos.y)\n  }\n\n  drawing = (e) => {\n    if (this.isDrawing === true) {\n      this.setState({\n        isNotEmpty: true\n      })\n      this.props.isNotEmpty()\n      let mousePos = this.getMousePos(e)\n      this.ctx.lineTo(mousePos.x, mousePos.y)\n      this.ctx.stroke()\n    }\n  }\n  \n  unDraw = () => {\n    return(this.isDrawing = false)\n  }\n\n  //effacer le contenu de la signature\n  clear = () => {\n    this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height)\n    this.setState({\n      isNotEmpty: false\n    })\n\n  }\n\n  render() {\n    return (\n    <div >\n      <canvas width={300} height={200} ref=\"canvas\" className = \"canvas\" onMouseDown={this.draw} onMouseMove={this.drawing} onMouseUp={this.unDraw} onMouseLeave={this.unDraw} />\n      {this.state.isNotEmpty ? <button onClick={this.clear} className=\"clear-button\">Effacer</button> : ''}\n    </div>\n    )\n  }\n}\nexport default CanvasReservation","import React, { Component } from 'react'\nimport './Reservation.css'\nimport CanvasReservation from './Canvas';\n\nclass ReservationVelo extends Component{\n    constructor(props){\n        super(props)\n    this.state = {\n        nom: '',\n        prenom: '',\n        isNotEmpty: false\n    }\n}\n\nhandleChangeName = (e) =>{\nconst nom= e.currentTarget.value\nthis.setState({\n    nom: nom\n})\n}\n\nhandleChangeNickname = (e) =>{\n    const prenom = e.currentTarget.value\n    this.setState({\n        prenom: prenom\n    })\n}\nisSumbit = (e) => {\n    e.preventDefault()\n    let nom = this.state.nom.trim()\n    let prenom = this.state.prenom.trim()\n\n    if(nom !== '' && prenom !== ''){\n        //affiche le compteur\n        this.props.compteur()\n    }else{\n       return(\n           alert('Aucun des champs ne doit être vide !')\n       )\n    }\n    //remet le formulaire vide\n    this.setState({\n        nom: '',\n        prenom: ''\n    })\n}\n\nisNotEmpty = () => {\n    this.setState({\n        isNotEmpty: true\n    })\n}\n\n  render(){\n    return(\n        <div className=\"container-form\">\n            <form action =\"#\" method=\"post\" onSubmit={this.isSumbit}>\n                <div className=\"input-form\">\n                    <input id=\"name\" type=\"text\" name=\"name\" placeholder=\"Nom\" value={this.state.nom} required onChange={this.handleChangeName}></input>\n                    <input id=\"nickname\" type=\"text\" name=\"nickname\" placeholder=\"Prénom\" value={this.state.prenom} required onChange={this.handleChangeNickname}></input>\n                </div>\n                <CanvasReservation isNotEmpty={this.isNotEmpty}/>\n                <p>Veuillez apposer votre signature et indiquer votre nom et prénom afin de finaliser votre réservation</p>\n                {this.state.isNotEmpty ? <input type=\"submit\" value=\"Reserver\" className=\"input-reservation\"></input> : ''}\n            </form>\n        </div>\n    )\n  }\n}\nexport default ReservationVelo","import React, { Component } from 'react'\nimport './Footer.css'\n\nclass FooterVelo extends Component{\n  render(){\n    return(\n      <div className=\"container-footer\">\n      <div className=\"social-media\">\n        <a href=\"https://github.com/AdminMNDev/velo\"><img src=\"github.png\" alt=\"ico github\" className=\"ico-github\"></img></a>\n        <a href=\"https://mathieu-raisin.fr\"><img src=\"domain-registration.png\" alt=\"ico github\" className=\"ico-github\"></img></a>\n        </div>\n        <p>© 2019 RAISIN Mathieu - Développeur web.<br></br><span>Refonte</span> d'un projet <span>OpenClassRooms</span> avec <span>React.js</span>.</p>\n      </div>\n    )\n  }\n}\nexport default FooterVelo","import React, { Component } from 'react'\nimport './Menu.css'\nclass MenuVelo extends Component{\n\n  render(){\n    return(\n      <div className=\"container-menu\">\n      <div className=\"menu\">\n        <div className=\"menu-text\">\n          <h1>Vélo'<span> Taff</span></h1>\n          <h2><span>GRAND</span>LYON</h2>\n          <h3>La métropole</h3>\n        </div>\n        </div>\n      </div>\n    )\n  }\n}\nexport default MenuVelo","import React, { Component } from 'react'\nimport './Baniere.css'\n\nclass BanniereVelo extends Component{\n\n    render(){\n        return(\n            <div className=\"container-baniere\">\n                <div className=\"bordure-baniere\">\n                    <h1>Vélo' <span>Taff</span> vous accompagne à <span>chaque</span> instant</h1>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default BanniereVelo","import React, { Component } from 'react'\nimport './Slider.css';\n\nclass SliderVelo extends Component{\n    constructor(props){\n        super(props)\n        this.slideIndex = 1\n        this.x = []\n    }\n\n    componentDidMount = () => {\n        this.showDivs()\n        setInterval(() => {\n            this.plusDivs(+1)\n        }, 5000);\n    }\n\n    plusDivs = n => {\n    this.showDivs(this.slideIndex += n);\n    }\n\n    showDivs = (n) => {\n        const x = document.getElementsByClassName(\"slide\");\n        if (n > x.length) {this.slideIndex = 1}\n        if (n < 1) {this.slideIndex = x.length} ;\n        for (let i = 0; i < x.length; i++) {\n        x[i].style.display = \"none\";\n    }\n    x[this.slideIndex-1].style.display = \"flex\";\n}\n\n    render(){\n        return(\n            <div className=\"container-slider\">\n                <h2>FONCTIONNEMENT DE L'APPLICATION</h2>\n                <p className=\"border-bottom-slider\"></p>\n                <div className=\"slider\">\n                    <img onClick={() => this.plusDivs(-1)} className=\"avant\" src=\"back.png\" alt='arrow'></img>\n                    <div className=\"slide\">\n                        <img src=\"1.png\" alt=\"explication de l'application\"></img>\n                        <div className=\"text-slider\">\n                        <div className=\"sous-titre\">\n                            <p>1 - Choisisez une station</p>\n                            <p className=\"border-soustitre-station\"></p>\n                        </div>\n                            <p>Un panneau s'affiche lors du clic sur un marqueur\n                            et vous avez la possibilité de réserver un vélo</p>\n                        </div>\n                    </div>\n                    <div className=\"slide\">\n                        <img src=\"2.png\" alt=\"explication de l'application\"></img>\n                        <div className=\"text-slider\">\n                        <div className=\"sous-titre\">\n                            <p>2 - Information de la station</p>\n                            <p className=\"border-soustitre-station\"></p>\n                        </div>\n                            <p>Sur le panneau, vous retrouver le nombre de vélo disponible, ainsi que\n                            les places disponibles pour rendre votre vélo</p>\n                        </div>\n                    </div>\n                <div className=\"slide\">\n                    <img src=\"3.png\" alt=\"explication de l'application\"></img>\n                    <div className=\"text-slider\">\n                        <div className=\"sous-titre\">\n                            <p>3 - Réserver votre vélo</p>\n                            <p className=\"border-soustitre-station\"></p>\n                        </div>\n                            <p>Cliquez sur 'réserver', puis indiquez votre nom et prénom et signez dans le champ libre</p>\n                        </div>\n                    </div>\n                <div className=\"slide\">\n                    <img src=\"4.png\" alt=\"explication de l'application\"></img>\n                    <div className=\"text-slider\">\n                        <div className=\"sous-titre\">\n                            <p>4 - Status de la réservation</p>\n                            <p className=\"border-soustitre-station\"></p>\n                        </div>\n                        <p>Votre réservation expire automatiquement au bout de 20 minutes. Vous devez annuler la réservation\n                        en cours pour effectuer de nouveau une réservation</p>\n                    </div>\n                </div>\n                <img onClick={() => this.plusDivs(+1)} className=\"apres\" src=\"next.png\" alt='arrow'></img>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default SliderVelo","import React, { Component } from 'react'\nimport './Jumbotron.css'\n\nclass JumbotronVelo extends Component {\n\n    render(){\n        return(\n            <div>\n                <div className=\"container-jumbotron\">\n                    <div className=\"jumbotron-text\">\n                    <p className=\"titre-jumbotron\">RÉSERVEZ VOTRE VÉLO'V</p>\n                    <p className=\"border-titre-jumbotron\"></p>\n                    <p className=\"text-jumbotron\">Vous pouvez réserver un vélo, 7j/7, 24h/24.<br></br>\n                    Dans chaque station, une borne permet d'acquérir une carte (courte durée) \n                    payable par carte bancaire. Le ticket 1 trajet coûte 1,80 € et la formule 24 heures 4 €.\n                    L'abonnement longue durée coûte 31 €.</p>\n                    <p className=\"point-animation\"><a href=\"#map\">.</a></p>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default JumbotronVelo","import React, { Component } from 'react'\nimport './Compteur.css'\n\nclass Compteur extends Component{\n    constructor(props){\n        super(props)\n        this.state = {\n            m: 20,\n            s: 0,\n            countDown: true\n        }\n    }\n\n    componentDidMount = () => {\n        this.countDown()\n    }\n\n    countDown = () => {\n        this.setState({\n            countDown: true\n        })\n        setInterval( () => {\n            if(this.state.countDown){\n            if(this.state.m <= 0 && this.state.s<= 0){\n                clearInterval()\n                this.setState({\n                    countDown: false\n                })\n            }else{\n                if(this.state.s > 0){\n                   this.setState({\n                       s: this.state.s - 1\n                   })\n                }else{\n                   this.setState({\n                       m: this.state.m - 1,\n                       s: 59\n                   })\n                }\n            }\n    }\n}, 1000)\n}\n    //pour eviter les erreurs d'abonnement\n    UnSubscribeCountDown = () => {\n        this.setState({\n            countDown: false\n        })\n        this.props.newReservation()\n    }\n\n    render(){\n        const { stationNom, stationAdresse } = this.props\n        return(\n        <div className=\"container-compteur\">\n            <p className=\"titre-compteur\">Votre Réservation</p>\n            <p className=\"border-titre-compteur\"></p>\n            <p className=\"text-compteur\">Vélo réservé à la station {stationNom}</p>\n            <p className=\"text-compteur\">{stationAdresse}</p>\n            {/* Si compteur est en cours alors affichage du temps */}\n            {this.state.countDown ?\n            <div>\n                <p className=\"text-compteur\">temps restant {this.state.m} min et {this.state.s} s</p>\n                <button onClick={this.UnSubscribeCountDown} className=\"button-reservation\">Annuler la réservation</button>\n            </div>\n            : \n            <div>\n                <p className=\"text-compteur\">Réservation périmé</p>\n                <button onClick={this.UnSubscribeCountDown} className=\"button-reservation\">Nouvelle réservation</button>\n            </div>}\n        </div>\n        )\n    }\n}\n\nexport default Compteur","import React, { Component } from 'react'\nimport MapVelo from './Map'\nimport { Animated } from 'react-animated-css';\nimport ReservationVelo from './Reservation';\nimport FooterVelo from './Footer';\nimport \"./reset.css\";\nimport MenuVelo from './Menu';\nimport BanniereVelo from './Baniere';\nimport SliderVelo from './Slider';\nimport JumbotronVelo from './Jumbotron';\nimport Compteur from './Compteur';\n\n\n\nclass App extends Component{\n  constructor(props){\n    super(props)\n    this.state = {\n      formIsVisible: false,\n      formBlockIsVisible: false,\n      mapIsVisible: true,\n      compteurIsVisible: false,\n      compteurBlockIsVisible: false,\n      stationNom: '',\n      stationAdresse: '',\n      formOut: 0,\n      isReserved: false //Pour eviter les doublons de reservations\n    }\n  }\n\n  formIsVisible = (nom, adresse) => {\n    this.setState({\n      formOut: 0,\n      formBlockIsVisible: true,\n      stationNom: nom,\n      stationAdresse: adresse\n    })\n    //Permet de gerer le soucis de bloc vide avec un decallage entre les fonctions.\n    setTimeout(() => {\n      window.scrollTo(0, window.innerHeight * 3)\n    }, 50);\n    setTimeout(() => {\n      this.setState({\n        formIsVisible: true\n      })\n    }, 350);  \n  }\n\n  compteurIsVisible = (e) => {\n    this.setState({\n      formOut: 500,\n      formIsVisible: false,\n      isReserved: true\n    })\n    setTimeout(() =>{\n      this.setState({\n        formBlockIsVisible:false,\n        compteurBlockIsVisible: true,\n        compteurIsVisible: true\n      })\n    }, 450)\n  }\n\n  compteurIsNotVisible = () => {\n    this.setState({\n      compteurIsVisible: false,\n      isReserved: false\n    })\n\n    setTimeout(() => {\n      this.setState({\n        compteurBlockIsVisible: false\n      })\n    }, 850)\n  }\n\n  render(){\n    return(\n      <div>\n      {/* Menu */}\n        <Animated className=\"animation-map\" animationIn=\"bounceInLeft\" animationInDuration={2000} isVisible={true}>\n          <MenuVelo />\n        </Animated>\n      {/* Baniere */}\n        <Animated animationIn=\"bounceInRight\" animationInDuration={2000} isVisible={true}>\n          <BanniereVelo />\n        </Animated>\n      {/* Slider */}\n        <Animated className=\"animation-map\" animationIn=\"bounceInLeft\" animationInDuration={2000} isVisible={true}>\n          <SliderVelo />\n        </Animated>\n        {/* Jumbotron */}\n        <JumbotronVelo />\n      {/* Map */}  \n          <MapVelo formulaire={this.formIsVisible} isReserved={this.state.isReserved}/>\n      {/* Form */}\n      {this.state.formBlockIsVisible ?\n        <Animated className=\"animation-form\" animationIn=\"fadeIn\" animationOut=\"fadeOut\" animationOutDuration={this.state.formOut} isVisible={this.state.formIsVisible}>\n          <ReservationVelo  compteur={this.compteurIsVisible}/>\n        </Animated>\n      : \"\"}\n      {/* Compteur */}\n      {this.state.compteurBlockIsVisible ?\n        <Animated animationIn=\"bounceInRight\" animationInDuration={450} isVisible={this.state.compteurIsVisible}>\n          <Compteur stationNom={this.state.stationNom} stationAdresse={this.state.stationAdresse} newReservation={this.compteurIsNotVisible}/>\n        </Animated>\n      :  \"\"}\n      {/* Footer */}\n      <FooterVelo />\n      </div>\n    )\n  }\n}\nexport default App","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport 'leaflet/dist/leaflet.css'\nimport './index.css';\n\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n\nserviceWorker.unregister();\n"],"sourceRoot":""}